{
    "collab_server" : "",
    "contents" : "#From this point on:\n#\n#Everything that exists is an object.\n#Everything that happens is a function call.\n\nsetwd(\"D:/Share Point/OneDrive/GitHub/greek-salad\")\n\nlibrary(foreign)\nlibrary(stargazer)\nlibrary(plyr)\nlibrary(reshape)\nlibrary(MatchIt)\nlibrary(optmatch)\n\noptions(scipen = 999, digits=2)\nFiles <- list.files(pattern = \"*.csv\")\n\n#Initializing Functions\nna.zero <- function (x) {\n  x[is.na(x)] <- 999\n  return(x)\n}\n\n#Propensity Score Matching\nData <- ldply(lapply(Files[6], read.csv))[,-c(1, 3)]\nm.out <- matchit(Split ~ Total + Female_Tch + Electricity + Public + Graduate_Teachers + Households + Pop0.6 + Literates + SCST, data = Data, method = \"nearest\", ratio = 1, discard = \"both\")\nsummary(m.out)\n#plot(m.out, type = \"jitter\")\nplot(m.out, type = \"hist\")\n\nmatch <- match.data(m.out)\nwrite.csv(match, \"Z1-Matched.csv\")\n\nData <- ldply(lapply(Files[5], read.csv))[,-c(1, 29)]\n#The variable all.taluks is from the environment of CensusPrep.R - Run that first! (or read it in from Z2.csv)\n#all.taluks <- ldply(lapply(Files[7], read.csv))[,2]\n#Data <- droplevels(subset(Data, eval(is.element(Block_Name, all.taluks))))\ncolnames(Data) <- c(\"Block_Name\", \"Year\", \"Marks1\", \"Marks2\", \"Marks3\", \"Marks4\", \"Marks5\", \"Marks6\", \"TotalMarks\", \"Dist_Name\", \"Rural\", \"WorkDays\",  \"AcadInsp\", \"DevGrantR\", \"DevGrantE\", \"TLMGrantR\", \"TLMGrantE\", \"Classrooms\", \"ToiletG\", \"Electricity\", \"Library\", \"PlayGround\", \"Male_Tch\", \"Female_Tch\", \"Grad_Tch\", \"ProfQ_Tch\", \"Days_nonTch\", \"Public\", \"Split\")\nnew <- c(\"BAGEPALLY\", \"CHANNAPATNA\", \"CHIKKABALLAPUR\", \"CHINTAMANI\", \"GOWRIBIDANUR\", \"GUDIBANDA\", \"KANAKAPURA\", \"MAGADI\", \"RAMANAGARA\", \"SHAHAPUR\", \"SHORAPUR\", \"SIDLAGHATTA\", \"YADGIR\")\nold <- c(\"AFZALPUR\", \"ALAND\", \"BANGARAPETE\", \"CHINCHOLI\", \"CHITTAPUR\", \"DEVANAHALLI\", \"DODDABALLAPURA\", \"HOSAKOTE\", \"JEWARGI\", \"KOLAR\", \"MALUR\", \"MULBAGAL\", \"NELAMANGALA\", \"SEDAM\", \"SRINIVASAPUR\")\n#Summary Statistics\n#Baseline\nSumm <- aggregate(Data, by = list(Data$Year, Data$Split), mean)\nSumm <- t(droplevels(subset(Summ, eval(Year == 2005))))\nSumm <- Summ[-c(1:10, 12),]\ncolnames(Summ) <- c(\"Undivided\", \"Divided\")\n#Print the Summary Stats\nstargazer(Summ, title = \"Summary Statistics in 2005\", summary = NULL)\n\nWithin <- droplevels(subset(Data, eval(is.element(Block_Name, union(old, new)))))\nWithin$New <- rep(0, nrow(Within))\nWithin[is.element(Within$Block_Name, new), 30] = 1\n\n#Baseline\nSumm <- aggregate(Within, by = list(Within$Year, Within$New), mean)\nSumm <- t(droplevels(subset(Summ, eval(Year == 2005))))\nSumm <- Summ[-c(1:10, 12),]\ncolnames(Summ) <- c(\"Old\", \"New\")\n#Print the Summary Stats\nstargazer(Summ, title = \"Summary Statistics in 2005\", summary = NULL)\n\n#Endline\nSumm <- aggregate(Data, by = list(Data$Year, Data$Split), mean)\nSumm <- t(droplevels(subset(Summ, eval(Year == 2013))))\nSumm <- Summ[-c(1:10, 12),]\ncolnames(Summ) <- c(\"Undivided\", \"Divided\")\n#Print the Summary Stats\nstargazer(Summ, title = \"Summary Statistics in 2013\", summary = NULL)\n\nWithin <- droplevels(subset(Data, eval(is.element(Block_Name, union(old, new)))))\nWithin$New <- rep(0, nrow(Within))\nWithin[is.element(Within$Block_Name, new), 30] = 1\n\n#Baseline\nSumm <- aggregate(Within, by = list(Within$Year, Within$New), mean)\nSumm <- t(droplevels(subset(Summ, eval(Year == 2013))))\nSumm <- Summ[-c(1:10, 12),]\ncolnames(Summ) <- c(\"Old\", \"New\")\n#Print the Summary Stats\nstargazer(Summ, title = \"Summary Statistics in 2013\", summary = NULL)\n\nfit.total <- lm(Total ~ Split*Year, Data)\nstargazer(fit.total, type = \"text\")\n",
    "created" : 1467966009718.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4119093571",
    "id" : "583C5075",
    "lastKnownWriteTime" : 1467967398,
    "last_content_update" : 1467967398561,
    "path" : "D:/Share Point/OneDrive/GitHub/greek-salad/Regressions.R",
    "project_path" : "Regressions.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}