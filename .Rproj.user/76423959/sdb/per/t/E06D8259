{
    "collab_server" : "",
    "contents" : "#Everything that exists is an object.\n#Everything that happens is a function call.\n\nsetwd(\"D:/Share Point/OneDrive/GitHub/greek-salad\")\n\nlibrary(foreign)\nlibrary(stargazer)\nlibrary(plyr)\nlibrary(reshape)\nlibrary(MatchIt)\n\noptions(scipen = 999, digits=2)\nFiles <- list.files(pattern = \"*.csv\")\n\n\n#Summary Table\nAppendix <- ldply(lapply(Files[1], read.csv))[,-1]\nstargazer(Appendix, title = \"No of Schools District-wise, across the years\", summary = FALSE, digits = 1, font.size = \"footnotesize\")\n\n#With Unmatched Data\nData <- ldply(lapply(Files[6], read.csv))[,-c(1,3, 30)]\n#The variable all.taluks is from the environment of CensusPrep.R - Run that first! (or read it in from Z2.csv)\n#all.taluks <- ldply(lapply(Files[7], read.csv))[,2]\n#Data <- droplevels(subset(Data, eval(is.element(Block_Name, all.taluks))))\ncolnames(Data) <- c(\"Block_Name\", \"Year\", \"Marks1\", \"Marks2\", \"Marks3\", \"Marks4\", \"Marks5\", \"Marks6\", \"TotalMarks\", \"Dist_Name\", \"Rural\", \"WorkDays\",  \"AcadInsp\", \"DevGrantR\", \"DevGrantE\", \"TLMGrantR\", \"TLMGrantE\", \"Classrooms\", \"ToiletG\", \"Electricity\", \"Library\", \"PlayGround\", \"Male_Tch\", \"Female_Tch\", \"Grad_Tch\", \"ProfQ_Tch\", \"Days_nonTch\", \"Public\", \"Split\", \"Households\", \"TotPop\", \"Pop0.6\", \"Literates\", \"TotWPop\", \"SCST\", \"District\", \"Yr2005\", \"Yr2006\", \"Yr2007\", \"Yr2008\", \"Yr2009\", \"Yr2010\", \"Yr2011\", \"Yr2012\", \"Yr2013\", \"SchoolperPop2005\", \"SchoolperPop2006\", \"SchoolperPop2007\", \"SchoolperPop2008\", \"SchoolperPop2009\", \"SchoolperPop2010\", \"SchoolperPop2011\", \"SchoolperPop2012\", \"SchoolperPop2013\")\nnew <- c(\"BAGEPALLY\", \"CHANNAPATNA\", \"CHIKKABALLAPUR\", \"CHINTAMANI\", \"GOWRIBIDANUR\", \"GUDIBANDA\", \"KANAKAPURA\", \"MAGADI\", \"RAMANAGARA\", \"SHAHAPUR\", \"SHORAPUR\", \"SIDLAGHATTA\", \"YADGIR\")\nold <- c(\"AFZALPUR\", \"ALAND\", \"BANGARAPETE\", \"CHINCHOLI\", \"CHITTAPUR\", \"DEVANAHALLI\", \"DODDABALLAPURA\", \"HOSAKOTE\", \"JEWARGI\", \"KOLAR\", \"MALUR\", \"MULBAGAL\", \"NELAMANGALA\", \"SEDAM\", \"SRINIVASAPUR\")\n#Summary Statistics\n#Baseline\nSumm <- t(aggregate(Data, by = list(Data$Year, Data$Split), mean))\nSumm <- Summ[-c(1:10, 12, 38, 40:47, 49:56),]\ncolnames(Summ) <- c(\"Undivided\", \"Divided\")\n#Print the Summary Stats\nstargazer(Summ, title = \"Summary Statistics in 2005\", summary = NULL, digits = 1)\n\nWithin <- droplevels(subset(Data, eval(is.element(Block_Name, union(old, new)))))\nWithin$New <- rep(0, nrow(Within))\nWithin[is.element(Within$Block_Name, new), 55] = 1\n\n#Baseline\nSumm <- t(aggregate(Within, by = list(Within$Year, Within$New), mean))\nSumm <- Summ[-c(1:10, 12, 38, 40:47, 49:56),]\ncolnames(Summ) <- c(\"Old\", \"New\")\n#Print the Summary Stats\nstargazer(Summ, title = \"Summary Statistics in 2005\", summary = NULL, digits = 1)\n\n#Endline\nData <- ldply(lapply(Files[8], read.csv))[,-c(1,3, 30)]\n#The variable all.taluks is from the environment of CensusPrep.R - Run that first! (or read it in from Z2.csv)\n#all.taluks <- ldply(lapply(Files[7], read.csv))[,2]\n#Data <- droplevels(subset(Data, eval(is.element(Block_Name, all.taluks))))\ncolnames(Data) <- c(\"Block_Name\", \"Year\", \"Marks1\", \"Marks2\", \"Marks3\", \"Marks4\", \"Marks5\", \"Marks6\", \"TotalMarks\", \"Dist_Name\", \"Rural\", \"WorkDays\",  \"AcadInsp\", \"DevGrantR\", \"DevGrantE\", \"TLMGrantR\", \"TLMGrantE\", \"Classrooms\", \"ToiletG\", \"Electricity\", \"Library\", \"PlayGround\", \"Male_Tch\", \"Female_Tch\", \"Grad_Tch\", \"ProfQ_Tch\", \"Days_nonTch\", \"Public\", \"Split\", \"Households\", \"TotPop\", \"Pop0.6\", \"Literates\", \"TotWPop\", \"SCST\", \"District\", \"Yr2005\", \"Yr2006\", \"Yr2007\", \"Yr2008\", \"Yr2009\", \"Yr2010\", \"Yr2011\", \"Yr2012\", \"Yr2013\", \"SchoolperPop2005\", \"SchoolperPop2006\", \"SchoolperPop2007\", \"SchoolperPop2008\", \"SchoolperPop2009\", \"SchoolperPop2010\", \"SchoolperPop2011\", \"SchoolperPop2012\", \"SchoolperPop2013\")\n#Summary Statistics\n#Baseline\n\nSumm <- t(aggregate(Data, by = list(Data$Year, Data$Split), mean))\nSumm <- Summ[-c(1:10, 12, 38:46, 48:55),]\ncolnames(Summ) <- c(\"Undivided\", \"Divided\")\n#Print the Summary Stats\nstargazer(Summ, title = \"Summary Statistics in 2013\", summary = NULL, digits = 1)\n\n\nWithin <- droplevels(subset(Data, eval(is.element(Block_Name, union(old, new)))))\nWithin$New <- rep(0, nrow(Within))\nWithin[is.element(Within$Block_Name, new), 55] = 1\n\n#Endline\nSumm <- t(aggregate(Within, by = list(Within$Year, Within$New), mean))\nSumm <- Summ[-c(1:10, 12, 38:46, 48:55),]\ncolnames(Summ) <- c(\"Old\", \"New\")\n#Print the Summary Stats\nstargazer(Summ, title = \"Summary Statistics in 2013\", summary = NULL, digits = 1)\n\nfit.total <- lm(TotalMarks ~ Split*Year, Data)\nfit.WDays <- lm(WorkDays ~ Split*Year, Data)\nfit.AcdInsp <- lm(AcadInsp ~ Split*Year, Data)\nfit.DevGrant <- lm(DevGrantR ~ Split*Year, Data)\nstargazer(fit.total, fit.WDays, fit.DevGrant, fit.AcdInsp, digits = 1, df = FALSE)\n\nfit.TLM <- lm(TLMGrantR ~ Split*Year, Data)\nfit.Class <- lm(Classrooms ~ Split*Year, Data)\nfit.Toilet <- lm(ToiletG ~ Split*Year, Data)\nfit.Elect <- lm(Electricity ~ Split*Year, Data)\nstargazer(fit.TLM, fit.Class, fit.Toilet, fit.Elect, digits = 1, df = FALSE)\n\nfit.male <- lm(Male_Tch ~ Split*Year, Data)\nfit.fem <- lm(Female_Tch ~ Split*Year, Data)\nfit.grad <- lm(Grad_Tch ~ Split*Year, Data)\nfit.prof <- lm(ProfQ_Tch ~ Split*Year, Data)\nstargazer(fit.male, fit.fem, fit.grad, fit.prof, digits = 1, df = FALSE)\n\nfit.public <- lm(Public ~ Split*Year, Data)\nfit.nonTch <- lm(Days_nonTch ~ Split*Year, Data)\nfit.libr <- lm(Library ~ Split*Year, Data)\nstargazer(fit.public, fit.nonTch, fit.libr, digits = 1, df = FALSE)\n\n##With Matched Data\nData <- ldply(lapply(Files[6], read.csv))[,-c(1, 3)]\nm.out <- matchit(Split ~ Total + SchoolperPop2005 + Female_Tch + Electricity + Public + Graduate_Teachers + Households + Pop0.6 + Literates + SCST, data = Data, method = \"nearest\", ratio = 1, discard = \"both\")\n#summary(m.out)\nplot(m.out, type = \"jitter\")\n\nmatch <- match.data(m.out)\nwrite.csv(match, \"Z1-Matched.csv\")\nplot(m.out, type = \"hist\")\n\nData <- ldply(lapply(Files[5], read.csv))[,-c(1, 29)]\n#The variable all.taluks is from the environment of CensusPrep.R - Run that first! (or read it in from Z2.csv)\nall.taluks <- ldply(lapply(Files[7], read.csv))[,2]\nData <- droplevels(subset(Data, eval(is.element(Block_Name, all.taluks))))\ncolnames(Data) <- c(\"Block_Name\", \"Year\", \"Marks1\", \"Marks2\", \"Marks3\", \"Marks4\", \"Marks5\", \"Marks6\", \"TotalMarks\", \"Dist_Name\", \"Rural\", \"WorkDays\",  \"AcadInsp\", \"DevGrantR\", \"DevGrantE\", \"TLMGrantR\", \"TLMGrantE\", \"Classrooms\", \"ToiletG\", \"Electricity\", \"Library\", \"PlayGround\", \"Male_Tch\", \"Female_Tch\", \"Grad_Tch\", \"ProfQ_Tch\", \"Days_nonTch\", \"Public\", \"Split\")\nnew <- c(\"BAGEPALLY\", \"CHANNAPATNA\", \"CHIKKABALLAPUR\", \"CHINTAMANI\", \"GOWRIBIDANUR\", \"GUDIBANDA\", \"KANAKAPURA\", \"MAGADI\", \"RAMANAGARA\", \"SHAHAPUR\", \"SHORAPUR\", \"SIDLAGHATTA\", \"YADGIR\")\nold <- c(\"AFZALPUR\", \"ALAND\", \"BANGARAPETE\", \"CHINCHOLI\", \"CHITTAPUR\", \"DEVANAHALLI\", \"DODDABALLAPURA\", \"HOSAKOTE\", \"JEWARGI\", \"KOLAR\", \"MALUR\", \"MULBAGAL\", \"NELAMANGALA\", \"SEDAM\", \"SRINIVASAPUR\")\n#Summary Statistics\n#Baseline\nSumm <- aggregate(Data, by = list(Data$Year, Data$Split), mean)\nSumm <- t(droplevels(subset(Summ, eval(Year == 2005))))\nSumm <- Summ[-c(1:10, 12),]\ncolnames(Summ) <- c(\"Undivided\", \"Divided\")\n#Print the Summary Stats\nstargazer(Summ, title = \"Summary Statistics in 2005\", summary = NULL)\n\nWithin <- droplevels(subset(Data, eval(is.element(Block_Name, union(old, new)))))\nWithin$New <- rep(0, nrow(Within))\nWithin[is.element(Within$Block_Name, new), 30] = 1\n\n#Baseline\nSumm <- aggregate(Within, by = list(Within$Year, Within$New), mean)\nSumm <- t(droplevels(subset(Summ, eval(Year == 2005))))\nSumm <- Summ[-c(1:10, 12),]\ncolnames(Summ) <- c(\"Old\", \"New\")\n#Print the Summary Stats\nstargazer(Summ, title = \"Summary Statistics in 2005\", summary = NULL)\n\n#Endline\nSumm <- aggregate(Data, by = list(Data$Year, Data$Split), mean)\nSumm <- t(droplevels(subset(Summ, eval(Year == 2013))))\nSumm <- Summ[-c(1:10, 12),]\ncolnames(Summ) <- c(\"Undivided\", \"Divided\")\n#Print the Summary Stats\nstargazer(Summ, title = \"Summary Statistics in 2013\", summary = NULL)\n\nWithin <- droplevels(subset(Data, eval(is.element(Block_Name, union(old, new)))))\nWithin$New <- rep(0, nrow(Within))\nWithin[is.element(Within$Block_Name, new), 30] = 1\n\n#Baseline\nSumm <- aggregate(Within, by = list(Within$Year, Within$New), mean)\nSumm <- t(droplevels(subset(Summ, eval(Year == 2013))))\nSumm <- Summ[-c(1:10, 12),]\ncolnames(Summ) <- c(\"Old\", \"New\")\n#Print the Summary Stats\nstargazer(Summ, title = \"Summary Statistics in 2013\", summary = NULL)\n\n#Regression Models\nFiles <- list.files(pattern = \"*.csv\")\nData <- ldply(lapply(Files[c(6,8)], read.csv))[,-c(1, 3, 30)]\ncolnames(Data) <- c(\"Block_Name\", \"Year\", \"Marks1\", \"Marks2\", \"Marks3\", \"Marks4\", \"Marks5\", \"Marks6\", \"TotalMarks\", \"Dist_Name\", \"Rural\", \"WorkDays\",  \"AcadInsp\", \"DevGrantR\", \"DevGrantE\", \"TLMGrantR\", \"TLMGrantE\", \"Classrooms\", \"ToiletG\", \"Electricity\", \"Library\", \"PlayGround\", \"Male_Tch\", \"Female_Tch\", \"Grad_Tch\", \"ProfQ_Tch\", \"Days_nonTch\", \"Public\", \"Split\", \"Households\", \"TotPop\", \"Pop0.6\", \"Literates\", \"TotWPop\", \"SCST\", \"District\", \"Yr2005\", \"Yr2006\", \"Yr2007\", \"Yr2008\", \"Yr2009\", \"Yr2010\", \"Yr2011\", \"Yr2012\", \"Yr2013\", \"SchoolperPop2005\", \"SchoolperPop2006\", \"SchoolperPop2007\", \"SchoolperPop2008\", \"SchoolperPop2009\", \"SchoolperPop2010\", \"SchoolperPop2011\", \"SchoolperPop2012\", \"SchoolperPop2013\")\nData$Post <- rep(0, nrow(Data))\nData[Data$Year == 2013, 55] = 1\nData$SchoolNo <- Data$SchoolperPop2013 - Data$SchoolperPop2005\n\n#Funding related variables\nfit.School <- lm(SchoolNo ~ Split*Post, Data)\nfit.public <- lm(Public ~ Split*Post, Data)\nfit.DevGrant <- lm(DevGrantR ~ Split*Post, Data)\nfit.TLM <- lm(TLMGrantR ~ Split*Post, Data)\nstargazer(fit.School, fit.public, fit.DevGrant, fit.TLM, digits = 1, df = FALSE)\n\n#Infrastructure related variables\nfit.Class <- lm(Classrooms ~ Split*Post + SchoolNo + Public + DevGrantR + TLMGrantR, Data)\nfit.Toilet <- lm(ToiletG ~ Split*Post + SchoolNo + Public + DevGrantR + TLMGrantR, Data)\nfit.Elect <- lm(Electricity ~ Split*Post + SchoolNo + Public + DevGrantR + TLMGrantR, Data)\nfit.libr <- lm(Library ~ Split*Post + SchoolNo + Public + DevGrantR + TLMGrantR, Data)\nstargazer(fit.Class, fit.Toilet, fit.Elect, fit.libr, digits = 1, df = FALSE)\n\n#Teaching resources related variables\nfit.male <- lm(Male_Tch ~ Split*Post + SchoolNo + Public + DevGrantR + TLMGrantR, Data)\nfit.fem <- lm(Female_Tch ~ Split*Post + SchoolNo + Public + DevGrantR + TLMGrantR, Data)\nfit.grad <- lm(Grad_Tch ~ Split*Post + SchoolNo + Public + DevGrantR + TLMGrantR, Data)\nfit.prof <- lm(ProfQ_Tch ~ Split*Post + SchoolNo + Public + DevGrantR + TLMGrantR, Data)\nstargazer(fit.male, fit.fem, fit.grad, fit.prof, digits = 1, df = FALSE)\n\n#Organization related variables\nfit.WDays <- lm(WorkDays ~ Split*Post + SchoolNo + Public + DevGrantR + TLMGrantR, Data)\nfit.AcdInsp <- lm(AcadInsp ~ Split*Post + SchoolNo + Public + DevGrantR + TLMGrantR, Data)\nfit.nonTch <- lm(Days_nonTch ~ Split*Post + SchoolNo + Public + DevGrantR + TLMGrantR, Data)\nfit.scores <- lm(TotalMarks ~ Split*Post + SchoolNo + Public + DevGrantR + TLMGrantR, Data)\nstargazer(fit.WDays, fit.nonTch, fit.AcdInsp, fit.scores, digits = 1, df = FALSE)\n\n#time dependent Model\nData <- ldply(lapply(Files[5], read.csv))[,-c(1)]\nSchool <- ldply(lapply(Files[9], read.csv))\nDataset <- merge(Data, School, by = c(\"Block_Name\", \"Year\"))\n\nDataset$Post <- rep(0, nrow(Dataset))\nDataset[Data$Year > 2010, 33] = 1\n",
    "created" : 1468207576678.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "453939414",
    "id" : "E06D8259",
    "lastKnownWriteTime" : 1468214542,
    "last_content_update" : 1468214542273,
    "path" : "D:/Share Point/OneDrive/GitHub/greek-salad/Regressions.R",
    "project_path" : "Regressions.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}