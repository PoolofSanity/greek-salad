x$Split <- rep(0, nrow(x))
x[is.element(x$Block_Name, taluk), 33] = 1
x$Year <- rep(0, nrow(x))
x <- x[,-c(1, 4:7, 19, 22, 23, 26, 27)]
x <- aggregate(x, by = list(x$Block_Name), mean)[,-2]
colnames(x)[1] <- "taluk"
return(x)
}
k <- data.frame(matrix(0, nrow = 29, ncol = 9))
k[,1:4] <- c(1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 36, 45, 50:54, 56, 60:67)
k[,5] <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 62:69)
k[,6] <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
k[,7] <- c(1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 36, 45, 50:54, 56, 60:67)
k[,8] <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
Data <- list()
for(i in 1){
Data <- lapply(Files, read.csv)
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("School_Code", "Block_Name", "Rural_Urban", "Medium", "Sch_Management", "Sch_Category", "School_Type", "No_of_Working_Days", "No_of_Acad_Inspection", "School_Dev_Grant_Recd", "School_Dev_Grant_Expnd", "TLM_Grant_Recd", "TLM_Grant_Expnd", "Tot_Clrooms", "Toilet_Girls", "Electricity", "Boundary_Wall", "Library", "PlayGround", "Blackboard", "Drinking_Water", "Male_Tch", "Female_Tch", "NoResp_Tch", "Head_Teacher", "Graduate_Teachers", "Tch_with_Prof_Qual", "Days_involved_in_non_tch_assgn", "Teachers_involved_in_non_tch_assgn")
Data[[i]] <- na.zero(Data[[i]])
}
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
colnames(Data)
Data[[1]]
Data <- Data[[i]]
colnames(Data)
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
x
Data[[i]]
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
i <- 1
Data <- lapply(Files, read.csv)
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("School_Code", "Block_Name", "Rural_Urban", "Medium", "Sch_Management", "Sch_Category", "School_Type", "No_of_Working_Days", "No_of_Acad_Inspection", "School_Dev_Grant_Recd", "School_Dev_Grant_Expnd", "TLM_Grant_Recd", "TLM_Grant_Expnd", "Tot_Clrooms", "Toilet_Girls", "Electricity", "Boundary_Wall", "Library", "PlayGround", "Blackboard", "Drinking_Water", "Male_Tch", "Female_Tch", "NoResp_Tch", "Head_Teacher", "Graduate_Teachers", "Tch_with_Prof_Qual", "Days_involved_in_non_tch_assgn", "Teachers_involved_in_non_tch_assgn")
Data[[i]] <- na.zero(Data[[i]])
Data[[i]]$Year <- i
Data[[i]]
Data <- Data[[i]]
View(Data)
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
View(Data)
#Everything that exists is an object.
#Everything that happens is a function call.
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files")
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
#Initializing Functions
na.zero <- function (x) {
x[is.na(x)] <- 999
return(x)
}
k <- data.frame(matrix(0, nrow = 29, ncol = 9))
k[,1:4] <- c(1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 36, 45, 50:54, 56, 60:67)
k[,5] <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 62:69)
k[,6] <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
k[,7] <- c(1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 36, 45, 50:54, 56, 60:67)
k[,8] <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
Data <- lapply(Files, read.csv)
for(i in 1:8){
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("School_Code", "Block_Name", "Rural_Urban", "Medium", "Sch_Management", "Sch_Category", "School_Type", "No_of_Working_Days", "No_of_Acad_Inspection", "School_Dev_Grant_Recd", "School_Dev_Grant_Expnd", "TLM_Grant_Recd", "TLM_Grant_Expnd", "Tot_Clrooms", "Toilet_Girls", "Electricity", "Boundary_Wall", "Library", "PlayGround", "Blackboard", "Drinking_Water", "Male_Tch", "Female_Tch", "NoResp_Tch", "Head_Teacher", "Graduate_Teachers", "Tch_with_Prof_Qual", "Days_involved_in_non_tch_assgn", "Teachers_involved_in_non_tch_assgn")
Data[[i]] <- na.zero(Data[[i]])
Data[[i]]$acyear <- i
}
Data <- ldply(Data)
View(Data)
#Everything that exists is an object.
#Everything that happens is a function call.
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files")
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
#Initializing Functions
na.zero <- function (x) {
x[is.na(x)] <- 999
return(x)
}
k <- data.frame(matrix(0, nrow = 29, ncol = 9))
k[,1:4] <- c(1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 36, 45, 50:54, 56, 60:67)
k[,5] <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 62:69)
k[,6] <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
k[,7] <- c(1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 36, 45, 50:54, 56, 60:67)
k[,8] <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
Data <- lapply(Files[1:8], read.csv)
for(i in 1:8){
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("School_Code", "Block_Name", "Rural_Urban", "Medium", "Sch_Management", "Sch_Category", "School_Type", "No_of_Working_Days", "No_of_Acad_Inspection", "School_Dev_Grant_Recd", "School_Dev_Grant_Expnd", "TLM_Grant_Recd", "TLM_Grant_Expnd", "Tot_Clrooms", "Toilet_Girls", "Electricity", "Boundary_Wall", "Library", "PlayGround", "Blackboard", "Drinking_Water", "Male_Tch", "Female_Tch", "NoResp_Tch", "Head_Teacher", "Graduate_Teachers", "Tch_with_Prof_Qual", "Days_involved_in_non_tch_assgn", "Teachers_involved_in_non_tch_assgn")
Data[[i]] <- na.zero(Data[[i]])
Data[[i]]$acyear <- i
}
Data <- ldply(Data)
View(Data)
category <- c(3, 5, 6, 7, 8, 10)
manage <- c(1, 2, 3, 4)
taluk <- c("AFZALPUR", "ALAND", "BAGEPALLY", "BANGARAPETE", "CHANNAPATNA", "CHIKKABALLAPUR", "CHINCHOLI", "CHINTAMANI", "CHITTAPUR", "DEVANAHALLI", "DODDABALLAPURA", "GOWRIBIDANUR", "GUDIBANDA", "GULBARGA NORTH", "GULBARGA SOUTH", "HOSAKOTE", "JEWARGI", "K G F", "KANAKAPURA", "KOLAR", "MAGADI", "MALUR", "MULBAGAL", "NELAMANGALA", "RAMANAGARA", "SEDAM", "SHAHAPUR", "SHORAPUR", "SIDLAGHATTA", "SRINIVASAPUR", "YADGIR")
colnames(Data)
Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category))))
Data[Data$Toilet_Girls >= 1, 15] = 1
Data[eval(Data$Electricity == 2 | Data$Electricity == 3), 16] = 0
Data[Data$Library == 2, 18] = 0
Data[Data$PlayGround == 2, 19] = 0
Data[Data$Rural_Urban == 2, 3] = 0
Data$Public <- rep(0, nrow(Data))
View(Data)
Data[is.element(Data[,5], manage), 31] = 1
Data$Split <- rep(0, nrow(Data))
Data[is.element(Data[,2], taluk), 32] = 1
View(Data)
colnames(Data)
Data <- Data[,-c(1, 4:7, 17, 20, 21, 24, 25)]
?aggregate
aggregate
Data <- aggregate(Data, by = list(Data$Block_Name, Data$acyear), mean)[,-2]
View(Data)
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
View(Dataset)
Dataset <- aggregate(Data, by = list(Data$Block_Name, Data$acyear), mean)[,-c(2, 3)]
View(Dataset)
colnames(Dataset)[1] <- "taluk"
View(Dataset)
View(Data)
write.csv(Data, "ssa.csv")
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
View(Dataset)
setwd("D:/Share Point/OneDrive/GitHub/greek-salad")
write.csv(Data, "ssa.csv")
#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
Files <- list.files(pattern = "*.csv")
colnames(Data)
Data <- ldply(lapply(Files, read.csv))
colnames(Data)
View(Data)
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
colnames(Dataset)
write.csv(Dataset, "ssa.csv")
#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
Data <- ldply(lapply(Files, read.csv))
colnames(Data)
Data <- ldply(lapply(Files, read.csv))[,-1]
colnames(Data)
?cast
Insp <- Data[, c(1, 20, 4)]
View(Insp)
Insp <- cast(Data)
Insp <- cast(Insp)
Insp <- cast(Insp, taluk ~ acyear)
View(Insp)
Insp <- Data[, c(1, 20, 16)]
Insp <- cast(Insp, taluk ~ acyear)
View(Insp)
#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
Data <- ldply(lapply(Files, read.csv))[,-1]
colnames(Data)
Insp <- Data[, c(22, 20, 16)]
Insp <- cast(Insp, taluk ~ acyear)
Insp <- cast(Insp, Split ~ acyear)
Insp <- cast(Insp, Split ~ acyear, mean)
Insp <- Data[, c(22, 20, 16)]
Insp <- cast(Insp, Split ~ acyear, mean)
View(Insp)
#Everything that exists is an object.
#Everything that happens is a function call.
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files")
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
#Initializing Functions
na.zero <- function (x) {
x[is.na(x)] <- 999
return(x)
}
category <- c(3, 5, 6, 7, 8, 10)
manage <- c(1, 2, 3, 4)
taluk <- c("AFZALPUR", "ALAND", "BAGEPALLY", "BANGARAPETE", "CHANNAPATNA", "CHIKKABALLAPUR", "CHINCHOLI", "CHINTAMANI", "CHITTAPUR", "DEVANAHALLI", "DODDABALLAPURA", "GOWRIBIDANUR", "GUDIBANDA", "GULBARGA NORTH", "GULBARGA SOUTH", "HOSAKOTE", "JEWARGI", "K G F", "KANAKAPURA", "KOLAR", "MAGADI", "MALUR", "MULBAGAL", "NELAMANGALA", "RAMANAGARA", "SEDAM", "SHAHAPUR", "SHORAPUR", "SIDLAGHATTA", "SRINIVASAPUR", "YADGIR")
exclude <- c("SOUTH1", "ANEKAL", "SOUTH2", "SOUTH3", "SOUTH4", "NORTH4", "NORTH1", "NORTH2", "NORTH3")
k <- data.frame(matrix(0, nrow = 29, ncol = 9))
k[,1:4] <- c(1, 4, 8, 9, 15, 18, 20, 22, 23, 28:31, 36, 44:49, 51, 55:62)
k[,5] <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 62:69)
k[,6] <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
k[,7] <- c(1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 36, 45, 50:54, 56, 60:67)
k[,8] <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
Data <- lapply(Files[1:8], read.csv)
for(i in 1:8){
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("School_Code", "Block_Name", "Rural_Urban", "Medium", "Sch_Management", "Sch_Category", "School_Type", "No_of_Working_Days", "No_of_Acad_Inspection", "School_Dev_Grant_Recd", "School_Dev_Grant_Expnd", "TLM_Grant_Recd", "TLM_Grant_Expnd", "Tot_Clrooms", "Toilet_Girls", "Electricity", "Boundary_Wall", "Library", "PlayGround", "Blackboard", "Drinking_Water", "Male_Tch", "Female_Tch", "NoResp_Tch", "Head_Teacher", "Graduate_Teachers", "Tch_with_Prof_Qual", "Days_involved_in_non_tch_assgn", "Teachers_involved_in_non_tch_assgn")
Data[[i]] <- na.zero(Data[[i]])
Data[[i]]$acyear <- i
}
Data <- ldply(Data)
Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category))))
Data <- droplevels(subset(Data, eval(is.element(Data$Block_Name, exclude))))
Data[Data$Toilet_Girls >= 1, 15] = 1
Data[eval(Data$Electricity == 2 | Data$Electricity == 3), 16] = 0
Data[Data$Library == 2, 18] = 0
Data[Data$PlayGround == 2, 19] = 0
Data[Data$Rural_Urban == 2, 3] = 0
Data$Public <- rep(0, nrow(Data))
Data[is.element(Data[,5], manage), 31] = 1
Data$Split <- rep(0, nrow(Data))
Data[is.element(Data[,2], taluk), 32] = 1
#Set up to Aggregate
Data <- Data[,-c(1, 4:7, 17, 20, 21, 24, 25)]
Dataset <- aggregate(Data, by = list(Data$Block_Name, Data$acyear), mean)[,-c(2, 3)]
View(Dataset)
?is.element
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
View(Dataset)
Reduce(intersect, Data[[1:8]][2]
)
#Everything that exists is an object.
#Everything that happens is a function call.
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files")
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
#Initializing Functions
na.zero <- function (x) {
x[is.na(x)] <- 999
return(x)
}
Data <- lapply(Files[1:8], read.csv)
Reduce(intersect, Data[[1:8]][2]
)
Reduce(intersect, Data[[1:8]][2])
Reduce(intersect, list(Data[[1:8]][2]))
taluk <- data.frame()
taluk <- vector()
for (i in 1:8){
taluk <- list()
for (i in 1:8){
taluk[[i]] <- Data[[i]][,2]
}
taluk <- Reduce(intersect, taluk)
}
Data <- lapply(Files[1:8], read.csv)
taluk <- list()
for (i in 1:8){
taluk[[i]] <- Data[[i]][,2]
}
taluk <- Reduce(intersect, taluk)
taluk <- list()
for (i in 1:8){
taluk[[i]] <- Data[[i]][,2]
}
test <- Reduce(intersect, taluk)
test <- Reduce(intersect, list(taluk[[1]], taluk[[2]]))
Data[[1]]
colnames(Data[[1]])
taluk <- list()
for (i in 1:8){
taluk[[i]] <- Data[[i]][,4]
}
test <- Reduce(intersect, taluk)
taluk <- list()
for (i in 1:8){
taluk[[i]] <- Data[[i]][,4]
}
taluk <- Reduce(intersect, taluk)
category <- c(3, 5, 6, 7, 8, 10)
manage <- c(1, 2, 3, 4)
taluk.all <- list()
for (i in 1:8){
taluk.all[[i]] <- Data[[i]][,4]
}
taluk.all <- Reduce(intersect, taluk.all)
category <- c(3, 5, 6, 7, 8, 10)
manage <- c(1, 2, 3, 4)
taluk <- c("AFZALPUR", "ALAND", "BAGEPALLY", "BANGARAPETE", "CHANNAPATNA", "CHIKKABALLAPUR", "CHINCHOLI", "CHINTAMANI", "CHITTAPUR", "DEVANAHALLI", "DODDABALLAPURA", "GOWRIBIDANUR", "GUDIBANDA", "GULBARGA NORTH", "GULBARGA SOUTH", "HOSAKOTE", "JEWARGI", "K G F", "KANAKAPURA", "KOLAR", "MAGADI", "MALUR", "MULBAGAL", "NELAMANGALA", "RAMANAGARA", "SEDAM", "SHAHAPUR", "SHORAPUR", "SIDLAGHATTA", "SRINIVASAPUR", "YADGIR")
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
write.csv(Dataset, "ssa.csv")
#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
Data <- ldply(lapply(Files, read.csv))[,-1]
View(Data)
#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
Data <- ldply(lapply(Files, read.csv))[,-1]
colnames(Data)
fit <- lm(No_of_Acad_Inspection ~ Public + Split + acyear, Data)
summary(fit)
stargazer(fit)
#Everything that exists is an object.
#Everything that happens is a function call.
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files")
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
#Initializing Functions
na.zero <- function (x) {
x[is.na(x)] <- 999
return(x)
}
Data <- lapply(Files[1:8], read.csv)
taluk.all <- list()
for (i in 1:8){
taluk.all[[i]] <- Data[[i]][,4]
}
taluk.all <- Reduce(intersect, taluk.all)
category <- c(3, 5, 6, 7, 8, 10)
manage <- c(1, 2, 3, 4)
taluk <- c("AFZALPUR", "ALAND", "BAGEPALLY", "BANGARAPETE", "CHANNAPATNA", "CHIKKABALLAPUR", "CHINCHOLI", "CHINTAMANI", "CHITTAPUR", "DEVANAHALLI", "DODDABALLAPURA", "GOWRIBIDANUR", "GUDIBANDA", "GULBARGA NORTH", "GULBARGA SOUTH", "HOSAKOTE", "JEWARGI", "K G F", "KANAKAPURA", "KOLAR", "MAGADI", "MALUR", "MULBAGAL", "NELAMANGALA", "RAMANAGARA", "SEDAM", "SHAHAPUR", "SHORAPUR", "SIDLAGHATTA", "SRINIVASAPUR", "YADGIR")
exclude <- c("SOUTH1", "ANEKAL", "SOUTH2", "SOUTH3", "SOUTH4", "NORTH4", "NORTH1", "NORTH2", "NORTH3")
colnames(Data[[1]])
colnames(Data[[5]])
colnames(Data[[6]])
colnames(Data[[6]])
colnames(Data[[7]])
colnames(Data[[8]])
k <- data.frame(matrix(0, nrow = 29, ncol = 9))
k[,1:4] <- c(2, 1, 4, 8, 9, 15, 18, 20, 22, 23, 28:31, 36, 44:49, 51, 55:62)
k[,5] <- c(1, 2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 62:69)
k[,6] <- c(1, 2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
k[,7] <- c(2, 1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 36, 45, 50:54, 56, 60:67)
k[,8] <- c(2, 1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
k <- data.frame(matrix(0, nrow = 30, ncol = 9))
k[,1:4] <- c(2, 1, 4, 8, 9, 15, 18, 20, 22, 23, 28:31, 36, 44:49, 51, 55:62)
k[,5] <- c(1, 2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 62:69)
k[,6] <- c(1, 2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
k[,7] <- c(2, 1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 36, 45, 50:54, 56, 60:67)
k[,8] <- c(2, 1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
for(i in 1:8){
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("Dist_Name", "School_Code", "Block_Name", "Rural_Urban", "Medium", "Sch_Management", "Sch_Category", "School_Type", "No_of_Working_Days", "No_of_Acad_Inspection", "School_Dev_Grant_Recd", "School_Dev_Grant_Expnd", "TLM_Grant_Recd", "TLM_Grant_Expnd", "Tot_Clrooms", "Toilet_Girls", "Electricity", "Boundary_Wall", "Library", "PlayGround", "Blackboard", "Drinking_Water", "Male_Tch", "Female_Tch", "NoResp_Tch", "Head_Teacher", "Graduate_Teachers", "Tch_with_Prof_Qual", "Days_involved_in_non_tch_assgn", "Teachers_involved_in_non_tch_assgn")
Data[[i]] <- na.zero(Data[[i]])
Data[[i]]$acyear <- i
}
Data <- ldply(Data)
Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category))))
Data <- droplevels(subset(Data, eval(is.element(Data$Block_Name, taluk.all))))
Data <- droplevels(subset(Data, eval(is.element(Data$Block_Name, exclude) == 0)))
Data[Data$Toilet_Girls >= 1, 15] = 1
Data[eval(Data$Electricity == 2 | Data$Electricity == 3), 16] = 0
Data[Data$Library == 2, 18] = 0
Data[Data$PlayGround == 2, 19] = 0
Data[Data$Rural_Urban == 2, 3] = 0
#From this point on:
#
#Everything that exists is an object.
#Everything that happens is a function call.
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files")
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
#Initializing Functions
na.zero <- function (x) {
x[is.na(x)] <- 999
return(x)
}
Data <- lapply(Files[1:8], read.csv)
taluk.all <- list()
for (i in 1:8){
taluk.all[[i]] <- Data[[i]][,4]
}
taluk.all <- Reduce(intersect, taluk.all)
category <- c(3, 5, 6, 7, 8, 10)
manage <- c(1, 2, 3, 4)
taluk <- c("AFZALPUR", "ALAND", "BAGEPALLY", "BANGARAPETE", "CHANNAPATNA", "CHIKKABALLAPUR", "CHINCHOLI", "CHINTAMANI", "CHITTAPUR", "DEVANAHALLI", "DODDABALLAPURA", "GOWRIBIDANUR", "GUDIBANDA", "GULBARGA NORTH", "GULBARGA SOUTH", "HOSAKOTE", "JEWARGI", "K G F", "KANAKAPURA", "KOLAR", "MAGADI", "MALUR", "MULBAGAL", "NELAMANGALA", "RAMANAGARA", "SEDAM", "SHAHAPUR", "SHORAPUR", "SIDLAGHATTA", "SRINIVASAPUR", "YADGIR")
exclude <- c("SOUTH1", "ANEKAL", "SOUTH2", "SOUTH3", "SOUTH4", "NORTH4", "NORTH1", "NORTH2", "NORTH3")
k <- data.frame(matrix(0, nrow = 30, ncol = 9))
k[,1:4] <- c(2, 1, 4, 8, 9, 15, 18, 20, 22, 23, 28:31, 36, 44:49, 51, 55:62)
k[,5] <- c(1, 2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 62:69)
k[,6] <- c(1, 2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
k[,7] <- c(2, 1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 36, 45, 50:54, 56, 60:67)
k[,8] <- c(2, 1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
for(i in 1:8){
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("Dist_Name", "School_Code", "Block_Name", "Rural_Urban", "Medium", "Sch_Management", "Sch_Category", "School_Type", "No_of_Working_Days", "No_of_Acad_Inspection", "School_Dev_Grant_Recd", "School_Dev_Grant_Expnd", "TLM_Grant_Recd", "TLM_Grant_Expnd", "Tot_Clrooms", "Toilet_Girls", "Electricity", "Boundary_Wall", "Library", "PlayGround", "Blackboard", "Drinking_Water", "Male_Tch", "Female_Tch", "NoResp_Tch", "Head_Teacher", "Graduate_Teachers", "Tch_with_Prof_Qual", "Days_involved_in_non_tch_assgn", "Teachers_involved_in_non_tch_assgn")
Data[[i]] <- na.zero(Data[[i]])
Data[[i]]$acyear <- i
}
Data <- ldply(Data)
Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category))))
Data <- droplevels(subset(Data, eval(is.element(Data$Block_Name, taluk.all))))
Data <- droplevels(subset(Data, eval(is.element(Data$Block_Name, exclude) == 0)))
Data[Data$Toilet_Girls >= 1, 16] = 1
Data[eval(Data$Electricity == 2 | Data$Electricity == 3), 17] = 0
Data[Data$Library == 2, 19] = 0
Data[Data$PlayGround == 2, 20] = 0
Data[Data$Rural_Urban == 2, 4] = 0
Data$Public <- rep(0, nrow(Data))
Data[is.element(Data[,5], manage), 31] = 1
Data$Split <- rep(0, nrow(Data))
Data[is.element(Data[,2], taluk), 32] = 1
colnames(Data)
Schoolcode <- Data[, c(1, 31, 2)]
Schoolcode <- cast(Schoolcode, Dist_Name ~ acyear, length)
View(Schoolcode)
Data <- Data[, -1]
Data <- Data[,-c(1, 4:7, 17, 20, 21, 24, 25)]
Dataset <- aggregate(Data, by = list(Data$Block_Name, Data$acyear), mean)[,-c(2, 3)]
colnames(Dataset)[1] <- "taluk"
#From this point on:
#
#Everything that exists is an object.
#Everything that happens is a function call.
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files")
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
#Initializing Functions
na.zero <- function (x) {
x[is.na(x)] <- 999
return(x)
}
Data <- lapply(Files[1:8], read.csv)
taluk.all <- list()
for (i in 1:8){
taluk.all[[i]] <- Data[[i]][,4]
}
taluk.all <- Reduce(intersect, taluk.all)
category <- c(3, 5, 6, 7, 8, 10)
manage <- c(1, 2, 3, 4)
taluk <- c("AFZALPUR", "ALAND", "BAGEPALLY", "BANGARAPETE", "CHANNAPATNA", "CHIKKABALLAPUR", "CHINCHOLI", "CHINTAMANI", "CHITTAPUR", "DEVANAHALLI", "DODDABALLAPURA", "GOWRIBIDANUR", "GUDIBANDA", "GULBARGA NORTH", "GULBARGA SOUTH", "HOSAKOTE", "JEWARGI", "K G F", "KANAKAPURA", "KOLAR", "MAGADI", "MALUR", "MULBAGAL", "NELAMANGALA", "RAMANAGARA", "SEDAM", "SHAHAPUR", "SHORAPUR", "SIDLAGHATTA", "SRINIVASAPUR", "YADGIR")
exclude <- c("SOUTH1", "ANEKAL", "SOUTH2", "SOUTH3", "SOUTH4", "NORTH4", "NORTH1", "NORTH2", "NORTH3")
k <- data.frame(matrix(0, nrow = 30, ncol = 9))
k[,1:4] <- c(2, 1, 4, 8, 9, 15, 18, 20, 22, 23, 28:31, 36, 44:49, 51, 55:62)
k[,5] <- c(1, 2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 62:69)
k[,6] <- c(1, 2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
k[,7] <- c(2, 1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 36, 45, 50:54, 56, 60:67)
k[,8] <- c(2, 1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
for(i in 1:8){
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("Dist_Name", "School_Code", "Block_Name", "Rural_Urban", "Medium", "Sch_Management", "Sch_Category", "School_Type", "No_of_Working_Days", "No_of_Acad_Inspection", "School_Dev_Grant_Recd", "School_Dev_Grant_Expnd", "TLM_Grant_Recd", "TLM_Grant_Expnd", "Tot_Clrooms", "Toilet_Girls", "Electricity", "Boundary_Wall", "Library", "PlayGround", "Blackboard", "Drinking_Water", "Male_Tch", "Female_Tch", "NoResp_Tch", "Head_Teacher", "Graduate_Teachers", "Tch_with_Prof_Qual", "Days_involved_in_non_tch_assgn", "Teachers_involved_in_non_tch_assgn")
Data[[i]] <- na.zero(Data[[i]])
Data[[i]]$acyear <- i
}
Data <- ldply(Data)
Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category))))
Data <- droplevels(subset(Data, eval(is.element(Data$Block_Name, taluk.all))))
Data <- droplevels(subset(Data, eval(is.element(Data$Block_Name, exclude) == 0)))
Data[Data$Toilet_Girls >= 1, 16] = 1
Data[eval(Data$Electricity == 2 | Data$Electricity == 3), 17] = 0
Data[Data$Library == 2, 19] = 0
Data[Data$PlayGround == 2, 20] = 0
Data[Data$Rural_Urban == 2, 4] = 0
Data$Public <- rep(0, nrow(Data))
Data[is.element(Data[,5], manage), 31] = 1
Data$Split <- rep(0, nrow(Data))
Data[is.element(Data[,2], taluk), 32] = 1
colnames(Data)
Schoolcode <- Data[, c(3, 31, 2)]
Schoolcode <- cast(Schoolcode, Dist_Name ~ acyear, length)
Schoolcode <- cast(Schoolcode, Block_Name ~ acyear, length)
View(Schoolcode)
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
View(Schoolcode)
