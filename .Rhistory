#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files")
Files <- list.files(pattern = "*.csv")
#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files")
Files <- list.files(pattern = "*.csv")
#ssamaster <- ldply(lapply(Files[1], read.csv))
#ssamaster <- ssamaster[, -c(10, 13, 15)]
#colnames(ssamaster) <- c("year", "distcode", "dist", "talukcode", "taluk", "clucode", "cluster", "ssacode", "schoolname", "schooltype", "schoolcat", "management")
Data <- ldply(lapply(Files[1, read.csv))
Data <- ldply(lapply(Files[1], read.csv))
colnames(Data)
k <- c(1, 4, 8, 9, 15, 18, 20, 22, 23, 28:33, 36, 44:49, 51, 55:61, 67)
Data <- Data[, k]
View(Data)
Data <- ldply(lapply(Files[1], read.csv))
k <- c(1, 4, 8, 9, 15, 18, 20, 22, 23, 28:33, 36, 44:49, 51, 55:62)
Data <- Data[, k]
View(Data)
unique(Data[,31])
unique(Data[,30])
View(Data)
Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, c(3, 5, 6, 7, 8, 10))) && is.element(Data$Sch_Management, c(1, 2, 3, 4))))
Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, c(3, 5, 6, 7, 8, 10))) & is.element(Data$Sch_Management, c(1, 2, 3, 4))))
#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files")
Files <- list.files(pattern = "*.csv")
#ssamaster <- ldply(lapply(Files[1], read.csv))
#ssamaster <- ssamaster[, -c(10, 13, 15)]
#colnames(ssamaster) <- c("year", "distcode", "dist", "talukcode", "taluk", "clucode", "cluster", "ssacode", "schoolname", "schooltype", "schoolcat", "management")
Data <- ldply(lapply(Files[1], read.csv))
k <- c(1, 4, 8, 9, 15, 18, 20, 22, 23, 28:33, 36, 44:49, 51, 55:62)
Data <- Data[, k]
Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, c(3, 5, 6, 7, 8, 10))) & is.element(Data$Sch_Management, c(1, 2, 3, 4))))
View(Data)
Data <- ldply(lapply(Files[1], read.csv))
k <- c(1, 4, 8, 9, 15, 18, 20, 22, 23, 28:33, 36, 44:49, 51, 55:62)
Data <- Data[, k]
set <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, c(3, 5, 6, 7, 8, 10)))))# & is.element(Data$Sch_Management, c(1, 2, 3, 4))))
category <- c(3, 5, 6, 7, 8, 10)
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files")
Files <- list.files(pattern = "*.csv")
#ssamaster <- ldply(lapply(Files[1], read.csv))
#ssamaster <- ssamaster[, -c(10, 13, 15)]
#colnames(ssamaster) <- c("year", "distcode", "dist", "talukcode", "taluk", "clucode", "cluster", "ssacode", "schoolname", "schooltype", "schoolcat", "management")
Data <- ldply(lapply(Files[1], read.csv))
k <- c(1, 4, 8, 9, 15, 18, 20, 22, 23, 28:33, 36, 44:49, 51, 55:62)
Data <- Data[, k]
#School Categories with Secondary Level
category <- c(3, 5, 6, 7, 8, 10)
set <- droplevels(subset(Data, is.element(Data$Sch_Category, category)))# & is.element(Data$Sch_Management, c(1, 2, 3, 4))))
category <- c(3, 5)
set <- droplevels(subset(Data, is.element(Data$Sch_Category, category)))# & is.element(Data$Sch_Management, c(1, 2, 3, 4))))
manage <- c(1, 2, 3, 4)
set <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category) & is.element(Data$Sch_Management, manage))))
set <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category))))# & is.element(Data$Sch_Management, manage))))
Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category))))# & is.element(Data$Sch_Management, manage))))
Data[,Data$Toilet_Girls == 2] = 0
View(Data)
colnames(Data)
Data[Data$Toilet_Girls == 2,17] = 0
View(Data)
colnames(Data)
Data[Data$Toilet_Girls == 2,17] = 0
Data[Data$Electricity == 2, 18] = 0
Data[Data$Book_Bank == 2, 20] = 0
Data[Data$PlayGround == 2, 21] = 0
Data$Public <- rep(0, nrow(Data))
Data[is.element(Data$Sch_Management, manage), 32] = 1
View(Data)
Data[Data$Rural_Urban == 2, 3] == 0
Data[Data$Rural_Urban == 2, 3] = 0
Data$Split <- rep(0, nrow(Data))
taluk <- c("AFZALPUR", "ALAND", "BAGEPALLY", "BANGARAPETE", "CHANNAPATNA", "CHIKKABALLAPUR", "CHINCHOLI", "CHINTAMANI", "CHITTAPUR", "DEVANAHALLI", "DODDABALLAPURA", "GOWRIBIDANUR", "GUDIBANDA", "GULBARGA NORTH", "GULBARGA SOUTH", "HOSAKOTE", "JEWARGI", "K G F", "KANAKAPURA", "KOLAR", "MAGADI", "MALUR", "MULBAGAL", "NELAMANGALA", "RAMANAGARA", "SEDAM", "SHAHAPUR", "SHORAPUR", "SIDLAGHATTA", "SRINIVASAPUR", "YADGIR")
Data$Split <- rep(0, nrow(Data))
Data[is.element(Data$Block_Name, taluk), 33] = 1
View(Data)
?aggregate.data.frame
aggregate(Data, by=Data$Block_Name, mean)
aggregate(Data, by=list(Data$Block_Name), mean)
list <- aggregate(Data, by=list(Data$Block_Name), mean)
View(list)
colnames(Data)
Data <- Data[,-c(1, 4:7, 19, 22, 23, 26, 27)]
ssa <- aggregate(Data, by = list(Data$Block_Name), mean)
warnings()
View(list)
View(ssa)
ssa <- round(aggregate(Data, by = list(Data$Block_Name), mean), 2)
options(digits=2)
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
View(ssa)
options(scipen = 999, digits=2)
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
View(ssa)
ssa <- aggregate(Data, by = list(Data$Block_Name), mean)[,-2]
View(ssa)
colnames(ssa)[1] <- "taluk"
View(ssa)
Data <- ldply(lapply(Files[1], read.csv))
Data <- ldply(lapply(Files[2], read.csv))
k <- c(1, 4, 8, 9, 15, 18, 20, 22, 23, 28:33, 36, 44:49, 51, 55:62)
Data <- Data[, k]
#School Categories with Secondary Level
category <- c(3, 5)
manage <- c(1, 2, 3, 4)
taluk <- c("AFZALPUR", "ALAND", "BAGEPALLY", "BANGARAPETE", "CHANNAPATNA", "CHIKKABALLAPUR", "CHINCHOLI", "CHINTAMANI", "CHITTAPUR", "DEVANAHALLI", "DODDABALLAPURA", "GOWRIBIDANUR", "GUDIBANDA", "GULBARGA NORTH", "GULBARGA SOUTH", "HOSAKOTE", "JEWARGI", "K G F", "KANAKAPURA", "KOLAR", "MAGADI", "MALUR", "MULBAGAL", "NELAMANGALA", "RAMANAGARA", "SEDAM", "SHAHAPUR", "SHORAPUR", "SIDLAGHATTA", "SRINIVASAPUR", "YADGIR")
Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category))))# & is.element(Data$Sch_Management, manage))))
Data[Data$Toilet_Girls == 2,17] = 0
Data[Data$Electricity == 2, 18] = 0
Data[Data$Book_Bank == 2, 20] = 0
Data[Data$PlayGround == 2, 21] = 0
Data[Data$Rural_Urban == 2, 3] = 0
Data$Public <- rep(0, nrow(Data))
Data[is.element(Data$Sch_Management, manage), 32] = 1
Data$Split <- rep(0, nrow(Data))
Data[is.element(Data$Block_Name, taluk), 33] = 1
Data <- Data[,-c(1, 4:7, 19, 22, 23, 26, 27)]
ssa.06 <- aggregate(Data, by = list(Data$Block_Name), mean)[,-2]
colnames(ssa.06)[1] <- "taluk"
View(ssa.06)
Data <- ldply(lapply(Files[3], read.csv))
k <- c(1, 4, 8, 9, 15, 18, 20, 22, 23, 28:33, 36, 44:49, 51, 55:62)
Data <- Data[, k]
#School Categories with Secondary Level
category <- c(3, 5)
manage <- c(1, 2, 3, 4)
taluk <- c("AFZALPUR", "ALAND", "BAGEPALLY", "BANGARAPETE", "CHANNAPATNA", "CHIKKABALLAPUR", "CHINCHOLI", "CHINTAMANI", "CHITTAPUR", "DEVANAHALLI", "DODDABALLAPURA", "GOWRIBIDANUR", "GUDIBANDA", "GULBARGA NORTH", "GULBARGA SOUTH", "HOSAKOTE", "JEWARGI", "K G F", "KANAKAPURA", "KOLAR", "MAGADI", "MALUR", "MULBAGAL", "NELAMANGALA", "RAMANAGARA", "SEDAM", "SHAHAPUR", "SHORAPUR", "SIDLAGHATTA", "SRINIVASAPUR", "YADGIR")
Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category))))# & is.element(Data$Sch_Management, manage))))
Data[Data$Toilet_Girls == 2,17] = 0
Data[Data$Electricity == 2, 18] = 0
Data[Data$Book_Bank == 2, 20] = 0
Data[Data$PlayGround == 2, 21] = 0
Data[Data$Rural_Urban == 2, 3] = 0
Data$Public <- rep(0, nrow(Data))
Data[is.element(Data$Sch_Management, manage), 32] = 1
Data$Split <- rep(0, nrow(Data))
Data[is.element(Data$Block_Name, taluk), 33] = 1
Data <- Data[,-c(1, 4:7, 19, 22, 23, 26, 27)]
ssa.07 <- aggregate(Data, by = list(Data$Block_Name), mean)[,-2]
colnames(ssa.07)[1] <- "taluk"
View(ssa.07)
Data <- ldply(lapply(Files[4], read.csv))
Data <- ldply(lapply(Files[5], read.csv))
Data <- ldply(lapply(Files[4], read.csv))
k <- c(1, 4, 8, 9, 15, 18, 20, 22, 23, 28:33, 36, 44:49, 51, 55:62)
Data <- Data[, k]
#School Categories with Secondary Level
category <- c(3, 5)
manage <- c(1, 2, 3, 4)
taluk <- c("AFZALPUR", "ALAND", "BAGEPALLY", "BANGARAPETE", "CHANNAPATNA", "CHIKKABALLAPUR", "CHINCHOLI", "CHINTAMANI", "CHITTAPUR", "DEVANAHALLI", "DODDABALLAPURA", "GOWRIBIDANUR", "GUDIBANDA", "GULBARGA NORTH", "GULBARGA SOUTH", "HOSAKOTE", "JEWARGI", "K G F", "KANAKAPURA", "KOLAR", "MAGADI", "MALUR", "MULBAGAL", "NELAMANGALA", "RAMANAGARA", "SEDAM", "SHAHAPUR", "SHORAPUR", "SIDLAGHATTA", "SRINIVASAPUR", "YADGIR")
Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category))))# & is.element(Data$Sch_Management, manage))))
Data[Data$Toilet_Girls == 2,17] = 0
Data[Data$Electricity == 2, 18] = 0
Data[Data$Book_Bank == 2, 20] = 0
Data[Data$PlayGround == 2, 21] = 0
Data[Data$Rural_Urban == 2, 3] = 0
Data$Public <- rep(0, nrow(Data))
Data[is.element(Data$Sch_Management, manage), 32] = 1
Data$Split <- rep(0, nrow(Data))
Data[is.element(Data$Block_Name, taluk), 33] = 1
Data <- Data[,-c(1, 4:7, 19, 22, 23, 26, 27)]
ssa.08 <- aggregate(Data, by = list(Data$Block_Name), mean)[,-2]
colnames(ssa.08)[1] <- "taluk"
View(ssa.08)
Data <- ldply(lapply(Files[5], read.csv))
colnames(Data)
k <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:34, 37, 46, 51:55, 57, 62:69)
Data <- ldply(lapply(Files[5], read.csv))
k <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:34, 37, 46, 51:55, 57, 62:69)
Data <- Data[, k]
View(Data)
category <- c(3, 5)
manage <- c(1, 2, 3, 4)
taluk <- c("AFZALPUR", "ALAND", "BAGEPALLY", "BANGARAPETE", "CHANNAPATNA", "CHIKKABALLAPUR", "CHINCHOLI", "CHINTAMANI", "CHITTAPUR", "DEVANAHALLI", "DODDABALLAPURA", "GOWRIBIDANUR", "GUDIBANDA", "GULBARGA NORTH", "GULBARGA SOUTH", "HOSAKOTE", "JEWARGI", "K G F", "KANAKAPURA", "KOLAR", "MAGADI", "MALUR", "MULBAGAL", "NELAMANGALA", "RAMANAGARA", "SEDAM", "SHAHAPUR", "SHORAPUR", "SIDLAGHATTA", "SRINIVASAPUR", "YADGIR")
Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category))))# & is.element(Data$Sch_Management, manage))))
Data[Data$Toilet_Girls == 2,17] = 0
Data[eval(Data$Electricity == 2 | Data$Electricity == 3), 18] = 0
Data <- ldply(lapply(Files[5], read.csv))
k <- c(2, 4, 9, 10, 16, 19, 21, 23, 24, 29:34, 37, 46, 51:55, 57, 62:69)
Data <- Data[, k]
#School Categories with Secondary Level
category <- c(3, 5)
manage <- c(1, 2, 3, 4)
taluk <- c("AFZALPUR", "ALAND", "BAGEPALLY", "BANGARAPETE", "CHANNAPATNA", "CHIKKABALLAPUR", "CHINCHOLI", "CHINTAMANI", "CHITTAPUR", "DEVANAHALLI", "DODDABALLAPURA", "GOWRIBIDANUR", "GUDIBANDA", "GULBARGA NORTH", "GULBARGA SOUTH", "HOSAKOTE", "JEWARGI", "K G F", "KANAKAPURA", "KOLAR", "MAGADI", "MALUR", "MULBAGAL", "NELAMANGALA", "RAMANAGARA", "SEDAM", "SHAHAPUR", "SHORAPUR", "SIDLAGHATTA", "SRINIVASAPUR", "YADGIR")
Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category))))# & is.element(Data$Sch_Management, manage))))
Data[Data$To > 0,17] = 1
Data[Data$Toilet_Girls_YN > 0,17] = 1
Data$Toilet_Girls_YN
Data[Data$Toilet_Girls_YN >= 1, 17] = 1
na.zero <- function (x) {
x[is.na(x)] <- 0
return(x)
}
