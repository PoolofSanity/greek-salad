library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
#Initializing Functions
na.zero <- function (x) {
x[is.na(x)] <- 999
return(x)
}
Data <- lapply(Files[1:8], read.csv)
taluk.all <- list()
for (i in 1:8){
taluk.all[[i]] <- Data[[i]][,4]
}
taluk.all <- Reduce(intersect, taluk.all)
#category <- c(3, 5, 6, 7, 8, 10)
manage <- c(1, 2, 3, 4)
taluk <- c("AFZALPUR", "ALAND", "BAGEPALLY", "BANGARAPETE", "CHANNAPATNA", "CHIKKABALLAPUR", "CHINCHOLI", "CHINTAMANI", "CHITTAPUR", "DEVANAHALLI", "DODDABALLAPURA", "GOWRIBIDANUR", "GUDIBANDA", "GULBARGA NORTH", "GULBARGA SOUTH", "HOSAKOTE", "JEWARGI", "K G F", "KANAKAPURA", "KOLAR", "MAGADI", "MALUR", "MULBAGAL", "NELAMANGALA", "RAMANAGARA", "SEDAM", "SHAHAPUR", "SHORAPUR", "SIDLAGHATTA", "SRINIVASAPUR", "YADGIR")
exclude <- c("SOUTH1", "ANEKAL", "SOUTH2", "SOUTH3", "SOUTH4", "NORTH4", "NORTH1", "NORTH2", "NORTH3")
k <- data.frame(matrix(0, nrow = 30, ncol = 9))
k[,1:4] <- c(2, 1, 4, 8, 9, 15, 18, 20, 22, 23, 28:31, 36, 44:49, 51, 55:62)
k[,5] <- c(1, 2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 62:69)
k[,6] <- c(1, 2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
k[,7] <- c(2, 1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 36, 45, 50:54, 56, 60:67)
k[,8] <- c(2, 1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
for(i in 1:8){
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("Dist_Name", "School_Code", "Block_Name", "Rural_Urban", "Medium", "Sch_Management", "Sch_Category", "School_Type", "No_of_Working_Days", "No_of_Acad_Inspection", "School_Dev_Grant_Recd", "School_Dev_Grant_Expnd", "TLM_Grant_Recd", "TLM_Grant_Expnd", "Tot_Clrooms", "Toilet_Girls", "Electricity", "Boundary_Wall", "Library", "PlayGround", "Blackboard", "Drinking_Water", "Male_Tch", "Female_Tch", "NoResp_Tch", "Head_Teacher", "Graduate_Teachers", "Tch_with_Prof_Qual", "Days_involved_in_non_tch_assgn", "Teachers_involved_in_non_tch_assgn")
Data[[i]] <- na.zero(Data[[i]])
Data[[i]]$acyear <- i
}
#setting up a table to match districts with taluks
lookup <- unique(Data[[8]][,c(1, 3)])
Data <- ldply(Data)
#Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category))))
Data <- droplevels(subset(Data, eval(is.element(Data$Block_Name, taluk.all))))
Data <- droplevels(subset(Data, eval(is.element(Data$Block_Name, exclude) == 0)))
Data[Data$Toilet_Girls >= 1, 16] = 1
Data[eval(Data$Electricity == 2 | Data$Electricity == 3), 17] = 0
Data[Data$Library == 2, 19] = 0
Data[Data$PlayGround == 2, 20] = 0
Data[Data$Rural_Urban == 2, 4] = 0
Data$Public <- rep(0, nrow(Data))
Data[is.element(Data[,6], manage), 32] = 1
Data$Split <- rep(0, nrow(Data))
Data[is.element(Data[,3], taluk), 33] = 1
colnames(Data)
Schoolcode <- Data[, c(3, 31, 2)]
Schoolcode <- cast(Schoolcode, Block_Name ~ acyear, length)
Schoolcode <- data.frame(merge(lookup, Schoolcode, by = "Block_Name"))
colnames(Schoolcode) <- c("Taluk", "District", "Yr2005", "Yr2006", "Yr2007", "Yr2008", "Yr2009", "Yr2010", "Yr2011", "Yr2012")
View(Schoolcode)
Data <- Data[,-c(1, 2, 5:8, 18, 21, 22, 25, 26)]
Dataset <- aggregate(Data, by = list(Data$Block_Name, Data$acyear), mean)[,-c(2, 3)]
colnames(Dataset)[1] <- "Taluk"
Schoolcode <- Schoolcode[,-1]
DistSchool <- aggregate(Schoolcode, by = list(Schoolcode$District), mean)[,-2]
colnames(DistSchool)[1] <- "District"
setwd("D:/Share Point/OneDrive/GitHub/greek-salad")
write.csv(Dataset, "ssa_taluk.csv")
write.csv(DistSchool, "SchoolNo.csv")
write.csv(Dataset, "ssa_taluk.csv")
write.csv(DistSchool, "SchoolNo.csv")
#Basic Regressions
Data <- ldply(lapply(Files[2], read.csv))[,-1]
fit <- lm(No_of_Acad_Inspection ~ Public + Split + acyear, Data)
stargazer(fit)
# Chunk 1: clip0
#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
# Chunk 2: clip1
#Basic Regressions
Data <- ldply(lapply(Files[2], read.csv))[,-1]
fit <- lm(No_of_Acad_Inspection ~ Public + Split + acyear, Data)
stargazer(fit)
# Chunk 3: Appendix
#Summary Table
Data <- ldply(lapply(Files[1], read.csv))[,-1]
stargazer(Data, summary = FALSE, digits = 1, font.size = "footnotesize")
View(Data)
Data <- ldply(lapply(Files[2], read.csv))[,-1]
View(Data)
#From this point on:
#
#Everything that exists is an object.
#Everything that happens is a function call.
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files")
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
#Initializing Functions
na.zero <- function (x) {
x[is.na(x)] <- 999
return(x)
}
Data <- lapply(Files[1:8], read.csv)
taluk.all <- list()
for (i in 1:8){
taluk.all[[i]] <- Data[[i]][,4]
}
taluk.all <- Reduce(intersect, taluk.all)
#category <- c(3, 5, 6, 7, 8, 10)
manage <- c(1, 2, 3, 4)
taluk <- c("AFZALPUR", "ALAND", "BAGEPALLY", "BANGARAPETE", "CHANNAPATNA", "CHIKKABALLAPUR", "CHINCHOLI", "CHINTAMANI", "CHITTAPUR", "DEVANAHALLI", "DODDABALLAPURA", "GOWRIBIDANUR", "GUDIBANDA", "GULBARGA NORTH", "GULBARGA SOUTH", "HOSAKOTE", "JEWARGI", "K G F", "KANAKAPURA", "KOLAR", "MAGADI", "MALUR", "MULBAGAL", "NELAMANGALA", "RAMANAGARA", "SEDAM", "SHAHAPUR", "SHORAPUR", "SIDLAGHATTA", "SRINIVASAPUR", "YADGIR")
exclude <- c("SOUTH1", "ANEKAL", "SOUTH2", "SOUTH3", "SOUTH4", "NORTH4", "NORTH1", "NORTH2", "NORTH3")
k <- data.frame(matrix(0, nrow = 30, ncol = 9))
k[,1:4] <- c(2, 1, 4, 8, 9, 15, 18, 20, 22, 23, 28:31, 36, 44:49, 51, 55:62)
k[,5] <- c(1, 2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 62:69)
k[,6] <- c(1, 2, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
k[,7] <- c(2, 1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 36, 45, 50:54, 56, 60:67)
k[,8] <- c(2, 1, 4, 9, 10, 16, 19, 21, 23, 24, 29:32, 37, 46, 51:55, 57, 61:68)
for(i in 1:8){
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("Dist_Name", "School_Code", "Block_Name", "Rural_Urban", "Medium", "Sch_Management", "Sch_Category", "School_Type", "No_of_Working_Days", "No_of_Acad_Inspection", "School_Dev_Grant_Recd", "School_Dev_Grant_Expnd", "TLM_Grant_Recd", "TLM_Grant_Expnd", "Tot_Clrooms", "Toilet_Girls", "Electricity", "Boundary_Wall", "Library", "PlayGround", "Blackboard", "Drinking_Water", "Male_Tch", "Female_Tch", "NoResp_Tch", "Head_Teacher", "Graduate_Teachers", "Tch_with_Prof_Qual", "Days_involved_in_non_tch_assgn", "Teachers_involved_in_non_tch_assgn")
Data[[i]] <- na.zero(Data[[i]])
Data[[i]]$acyear <- i
}
#setting up a table to match districts with taluks
lookup <- unique(Data[[8]][,c(1, 3)])
Data <- ldply(Data)
#Data <- droplevels(subset(Data, eval(is.element(Data$Sch_Category, category))))
Data <- droplevels(subset(Data, eval(is.element(Data$Block_Name, taluk.all))))
Data <- droplevels(subset(Data, eval(is.element(Data$Block_Name, exclude) == 0)))
Data[Data$Toilet_Girls >= 1, 16] = 1
Data[eval(Data$Electricity == 2 | Data$Electricity == 3), 17] = 0
Data[Data$Library == 2, 19] = 0
Data[Data$PlayGround == 2, 20] = 0
Data[Data$Rural_Urban == 2, 4] = 0
Data$Public <- rep(0, nrow(Data))
Data[is.element(Data[,6], manage), 32] = 1
Data$Split <- rep(0, nrow(Data))
Data[is.element(Data[,3], taluk), 33] = 1
#casting
Schoolcode <- Data[, c(3, 31, 2)]
Schoolcode <- cast(Schoolcode, Block_Name ~ acyear, length)
Schoolcode <- data.frame(merge(lookup, Schoolcode, by = "Block_Name"))
colnames(Schoolcode) <- c("Taluk", "District", "Yr2005", "Yr2006", "Yr2007", "Yr2008", "Yr2009", "Yr2010", "Yr2011", "Yr2012")
#Set up to Aggregate
Dataset <- Data[,-c(1, 2, 5:8, 18, 21, 22, 25, 26)]
Dataset <- aggregate(Dataset, by = list(Data$Block_Name, Data$acyear), mean)[,-c(2, 3)]
colnames(Dataset)[1] <- "Taluk"
Schoolcode <- Schoolcode[,-1]
DistSchool <- aggregate(Schoolcode, by = list(Schoolcode$District), mean)[,-2]
colnames(DistSchool)[1] <- "District"
View(Data)
Data <- Data[,-1]
Data <- data.frame(merge(lookup, Data, by = "Block_Name"))
View(Data)
write.csv(Data, "Dataset.csv")
write.csv(Dataset, "ssa_taluk.csv")
write.csv(DistSchool, "SchoolNo.csv")
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
Data <- ldply(lapply(Files[2], read.csv))[,-1]
fit <- lm(No_of_Acad_Inspection ~ Public + Split + acyear, Data)
stargazer(fit)
# Chunk 1: clip0
#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
# Chunk 2: clip1
#Basic Regressions
Data <- ldply(lapply(Files[2], read.csv))[,-1]
# Chunk 3: Appendix
#Summary Table
Appendix <- ldply(lapply(Files[1], read.csv))[,-1]
stargazer(Appendix, summary = FALSE, digits = 1, font.size = "footnotesize")
Data$Post <- rep(0, nrow(Data))
View(Data)
unique(Data$Dist_Name)
Bifur <- c("GULBARGA", "YADAGIRI", "BANGALORE RURAL", "RAMANAGARA", "KOLAR", "CHIKKABALLAPURA")
unique(Data$acyear)
Bifur <- c(4, 5, 6, 7, 8)
colnames(Data)
Data[is.element(Data[,21], Bifur), 24] = 1
View(Data)
fit <- lm(No_of_Acad_Inspection ~ Split*Post, data = Data)
fit <- lm(School_Dev_Grant_Recd ~ Split*Post, data = subset(Data, Dist_Name != "GULBARGA"))
stargazer(fit)
colnames(Data)
#From this point on:
#
#Everything that exists is an object.
#Everything that happens is a function call.
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files")
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
#From this point on:
#
#Everything that exists is an object.
#Everything that happens is a function call.
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files")
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
Data <- lapply(Files[9], read.csv)
ldply(Data)
Data <- ldply(Data)
colnames(Data)
source('D:/Share Point/OneDrive/GitHub/greek-salad/DataPrep.R')
# Chunk 1: clip0
#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
# Chunk 2: clip1
#Basic Regressions
Data <- ldply(lapply(Files[2], read.csv))[,-1]
Data$Post <- rep(0, nrow(Data))
Bifur <- c(4, 5, 6, 7, 8)
Data[is.element(Data[,21], Bifur), 24] = 1
fit <- lm(School_Dev_Grant_Recd ~ Split*Post, data = subset(Data, Dist_Name != "GULBARGA"))
stargazer(fit)
# Chunk 3: Appendix
#Summary Table
Appendix <- ldply(lapply(Files[1], read.csv))[,-1]
stargazer(Appendix, summary = FALSE, digits = 1, font.size = "footnotesize")
View(Data)
# Chunk 1: clip0
#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
# Chunk 2: clip1
#Basic Regressions
Data <- ldply(lapply(Files[2], read.csv))[,-1]
Data$Post <- rep(0, nrow(Data))
Bifur <- c(2008:2013)
Data[is.element(Data[,21], Bifur), 24] = 1
fit <- lm(School_Dev_Grant_Recd ~ Split*Post, data = subset(Data, Dist_Name != "GULBARGA"))
stargazer(fit)
# Chunk 3: Appendix
#Summary Table
Appendix <- ldply(lapply(Files[1], read.csv))[,-1]
stargazer(Appendix, summary = FALSE, digits = 1, font.size = "footnotesize")
# Chunk 1: clip0
#Everything that exists is an object.
#Everything that happens is a function call.
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
# Chunk 2: clip1
#Basic Regressions
Data <- ldply(lapply(Files[2], read.csv))[,-1]
Data$Post <- rep(0, nrow(Data))
Bifur <- c(2008:2013)
Data[is.element(Data[,21], Bifur), 24] = 1
fit <- lm(School_Dev_Grant_Recd ~ Split*Post, data = subset(Data, Dist_Name != "GULBARGA"))
stargazer(fit)
# Chunk 3: Appendix
#Summary Table
Appendix <- ldply(lapply(Files[1], read.csv))[,-1]
stargazer(Appendix, summary = FALSE, digits = 1, font.size = "footnotesize")
View(Data)
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files/SSLC Data")
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
Data <- lapply(Files[1], read.csv)
Data <- ldply(Data)
colnames(Data)
Data <- ldply(lapply(Files[2], read.csv))
colnames(Data)
k <- data.frame(matrix(0, nrow = 19, ncol = 9))
k[,1] <- c(4, 23, 24, 31, 32, 39, 40, 47, 48, 58, 59, 66, 67, 72, 73, 78, 79, 81, 82)
View(k)
source('D:/Share Point/OneDrive/GitHub/greek-salad/SSLCPrep.R')
Data <- ldply(Data)
View(Data)
View(k)
View(Data)
Data <- ldply(Data)[,c(2, 4, 6, 8, 10, 12, 14, 16, 18, 20)]
View(Data)
#From this point on:
#
#Everything that exists is an object.
#Everything that happens is a function call.
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files/SSLC Data")
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
#Initializing Functions
na.zero <- function (x) {
x[is.na(x)] <- 999
return(x)
}
Data <- lapply(Files[2], read.csv)
k <- data.frame(matrix(0, nrow = 19, ncol = 9))
k[,1] <- c(4, 23, 24, 31, 32, 39, 40, 47, 48, 58, 59, 66, 67, 72, 73, 78, 79, 81, 82)
Year <- c(2005:2013)
for(i in 1){
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("School_Code", "Marks1", "Results1", "Marks2", "Results2", "Marks3", "Results3", "Marks4", "Results4", "Marks5", "Results5", "Marks6", "Results6", "Marks7", "Results7", "Marks8", "Results8", "Total", "Result")
Data[[i]] <- na.zero(Data[[i]])
Data[[i]]$acyear <- Year[i]
#Data[[i]] <- aggregate(Data[[i]], by = list(Data$School_Code), mean)
}
#setting up a table to match schoolcodes with taluks
#lookup <- unique(Data[[9]][,c(1, 3)])
Data <- ldply(Data)[,c(2, 4, 6, 8, 10, 12, 14, 16, 18, 20)]
Data <- aggregate(Data, by = list(Data$School_Code), mean)
source('D:/Share Point/OneDrive/GitHub/greek-salad/SSLCPrep.R')
View(Data)
source('D:/Share Point/OneDrive/GitHub/greek-salad/SSLCPrep.R')
source('D:/Share Point/OneDrive/GitHub/greek-salad/SSLCPrep.R')
View(Data)
colnames(Data)[1] <- "School_Code"
colnames(ldply(lapply(Files[3], read.csv)))
colnames(ldply(lapply(Files[4], read.csv)))
View(Data)
colnames(ldply(lapply(Files[5], read.csv)))
colnames(ldply(lapply(Files[6], read.csv)))
colnames(ldply(lapply(Files[7], read.csv)))
colnames(ldply(lapply(Files[8], read.csv)))
colnames(ldply(lapply(Files[9], read.csv)))
colnames(ldply(lapply(Files[10], read.csv)))
k[,9] <- c(6, 28, 32, 34, 37, 40, 43, 19, 20)
source('D:/Share Point/OneDrive/GitHub/greek-salad/SSLCPrep.R')
source('D:/Share Point/OneDrive/GitHub/greek-salad/SSLCPrep.R')
source('D:/Share Point/OneDrive/GitHub/greek-salad/SSLCPrep.R')
#From this point on:
#
#Everything that exists is an object.
#Everything that happens is a function call.
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files/SSLC Data")
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
#Initializing Functions
na.zero <- function (x) {
x[is.na(x)] <- 999
return(x)
}
Data <- list()
k <- data.frame(matrix(0, nrow = 9, ncol = 9))
k[,1:8] <- c(4, 23, 31, 39, 47, 58, 66, 81, 82)
k[,9] <- c(6, 28, 32, 34, 37, 40, 43, 19, 20)
Year <- c(2005:2013)
#From this point on:
#
#Everything that exists is an object.
#Everything that happens is a function call.
setwd("D:/Share Point/OneDrive/Comprehensive Exam - Data files/SSLC Data")
library(foreign)
library(stargazer)
library(plyr)
library(reshape)
options(scipen = 999, digits=2)
Files <- list.files(pattern = "*.csv")
#Initializing Functions
na.zero <- function (x) {
x[is.na(x)] <- 999
return(x)
}
Data <- list()
k <- data.frame(matrix(0, nrow = 9, ncol = 9))
k[,1:8] <- c(4, 23, 31, 39, 47, 58, 66, 81, 82)
k[,9] <- c(6, 28, 32, 34, 37, 40, 43, 19, 20)
Year <- c(2005:2013)
for(i in 1:9){
Data <- lapply(Files[i+1], read.csv)
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("School_Code", "Marks1", "Marks2", "Marks3", "Marks4", "Marks5", "Marks6", "Total", "Result")
Data[[i]] <- na.zero(Data[[i]])
Data[[i]]$acyear <- Year[i]
Data[[i]] <- aggregate(Data[[i]], by = list(Data[[i]]$School_Code), mean)[,-2]
colnames(Data[[i]])[1] <- "School_Code"
}
for(i in 1:9){
Data <- lapply(Files[i+1], read.csv)
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("School_Code", "Marks1", "Marks2", "Marks3", "Marks4", "Marks5", "Marks6", "Total", "Result")
Data[[i]] <- aggregate(Data[[i]], by = list(Data[[i]]$School_Code), mean)[,-2]
colnames(Data[[i]])[1] <- "School_Code"
Data[[i]]$acyear <- Year[i]
}
for(i in 1:9){
Data <- lapply(Files[i+1], read.csv)
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("School_Code", "Marks1", "Marks2", "Marks3", "Marks4", "Marks5", "Marks6", "Total", "Result")
Data[[i]] <- aggregate(Data[[i]], by = list(Data[[i]]$School_Code), mean)[,-2]
Data[[i]]$acyear <- Year[i]
}
warnings()
for(i in 1:9){
Data <- lapply(Files[i+1], read.csv)
Data[[i]] <- Data[[i]][,k[,i]]
colnames(Data[[i]]) <- c("School_Code", "Marks1", "Marks2", "Marks3", "Marks4", "Marks5", "Marks6", "Total", "Result")
Data[[i]] <- aggregate(Data[[i]], by = list(Data[[i]]$School_Code), mean)[,-2]
#Data[[i]]$acyear <- Year[i]
}
source('D:/Share Point/OneDrive/GitHub/greek-salad/SSLCPrep.R')
View(Data)
?aggregate
source('D:/Share Point/OneDrive/GitHub/greek-salad/SSLCPrep.R')
View(Data)
source('D:/Share Point/OneDrive/GitHub/greek-salad/SSLCPrep.R')
AggData <- aggregate(test, by = list(test$School_Code), mean)
View(test)
source('D:/Share Point/OneDrive/GitHub/greek-salad/SSLCPrep.R')
test <- droplevels(subset(Data, eval(eval(is.element(Data[,2], exclude) | eval(is.element(Data[,3], exclude) | eval(is.element(Data[,4], exclude) | eval(is.element(Data[,5], exclude) == 0)))))))
View(test)
test <- droplevels(subset(Data, eval(is.element(Data[,2:8], exclude) == 0)))
exclude <- c(0:150)
test <- droplevels(subset(Data, eval(is.element(Data[,2:8], exclude))))
exclude <- c(1:150)
test <- droplevels(subset(Data, eval(is.element(Data[,2], exclude))))
View(test)
test <- Data
test <- droplevels(subset(test, eval(is.element(Data[,i], exclude))))
for(i in 2:8){
test <- droplevels(subset(test, eval(is.element(Data[,i], exclude))))
}
test <- Data
for(i in 2:8){
test <- droplevels(subset(test, eval(is.element(Data[,i], exclude))))
}
View(test)
test <- Data
for(i in 2:7){
test <- droplevels(subset(test, eval(is.element(Data[,i], exclude))))
}
AggData <- aggregate(test, by = list(test$School_Code), mean)
View(test)
View(test)
#Initializing Functions
na.zero <- function (x) {
x[is.na(x)] <- 999
return(x)
}
Data <- na.zero(Data)
test <- Data
for(i in 2:7){
test <- droplevels(subset(test, eval(is.element(Data[,i], exclude))))
}
View(test)
test <- as.numeric(as.character(Data))
test <- Data
View(test)
test <- Data
for(i in 2:7){
test <- droplevels(subset(test, eval(is.element(Data[,i], exclude))))
}
Data <- na.zero(Data)
test <- Data
for(i in 2:7){
test <- droplevels(subset(test, eval(is.element(test[,i], exclude))))
}
View(test)
AggData <- aggregate(test, by = list(test$School_Code), mean)
View(AggData)
colnames(AggData)[1] <- School_Code
colnames(Data) <- c("School.Code", "Marks1", "Marks2", "Marks3", "Marks4", "Marks5", "Marks6", "Total", "Result")
Data <- na.zero(Data)
test <- Data
for(i in 2:7){
test <- droplevels(subset(test, eval(is.element(test[,i], exclude))))
}
AggData <- aggregate(test, by = list(test$School_Code), mean)[,-2]
colnames(AggData)[1] <- "School.Code"
View(AggData)
AggData <- aggregate(test, by = list(test$School.Code), mean)[,-2]
colnames(AggData)[1] <- "School.Code"
View(AggData)
